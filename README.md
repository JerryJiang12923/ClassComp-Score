# ClassComp Score - 完备的信息委员电脑评分系统

**✅ 已升级为完备实用的信息委员电脑评分上传系统**

这是一个专业的、功能完备的学生电脑使用情况评分系统，专为学校信息委员设计，支持完整的用户管理、数据统计和安全认证。

---

## 🎯 核心功能升级

### 🔐 安全认证系统
- **用户注册/登录** - 基于Flask-Login的完整认证系统
- **权限管理** - 学生、教师、管理员三级权限
- **防重复评分** - 同一用户同一天不能重复评分同一班级
- **输入验证** - 前后端双重验证机制

### 📊 数据管理升级
- **个人评分历史** - 查看个人所有评分记录
- **实时统计** - 今日、本周、本月数据统计
- **数据可视化** - 图表展示评分趋势和分布
- **管理员面板** - 完整的数据管理和用户管理

### 📱 用户体验优化
- **响应式设计** - 完美适配手机、平板、电脑
- **实时反馈** - 评分提交即时反馈
- **数据筛选** - 多维度数据筛选和搜索
- **快捷操作** - 一键导出、数据刷新

---

## 🚀 快速开始

### 1. 环境准备
```bash
# 安装依赖
pip install -r requirements.txt

# 创建数据库（PostgreSQL）
createdb classcomp_score
```

### 2. 配置环境变量
复制 `.env.example` 为 `.env` 并修改配置：
```bash
# 数据库连接
DATABASE_URL=postgresql://username:password@localhost:5432/classcomp_score

# 应用密钥（生产环境必须修改）
SECRET_KEY=你的安全密钥

# 管理员账户
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@school.com
ADMIN_PASSWORD=admin123
```

### 3. 初始化数据库
```bash
python init_db.py
```

### 4. 启动应用
```bash
python app.py
```

访问 http://localhost:5000 开始使用

---

## 📋 使用指南

### 学生用户
1. **注册账户** - 使用学号注册，选择对应班级
2. **登录系统** - 使用注册的用户名和密码
3. **提交评分** - 选择被查年级，为各班级打分
4. **查看历史** - 在个人中心查看所有评分记录

### 管理员
- **管理员面板** - 访问 `/admin` 查看完整统计数据
- **用户管理** - 查看所有用户和活动情况
- **数据导出** - 一键导出Excel格式的月度报告
- **实时监控** - 实时查看评分动态和趋势

---

## 📊 系统特性

### 数据安全
- ✅ 密码加密存储（bcrypt）
- ✅ 防SQL注入（参数化查询）
- ✅ 输入验证和过滤
- ✅ 用户权限控制

### 功能完备
- ✅ 完整的CRUD操作
- ✅ 数据备份和恢复
- ✅ 多条件筛选搜索
- ✅ 响应式数据表格

### 用户体验
- ✅ 移动端友好界面
- ✅ 实时数据更新
- ✅ 友好的错误提示
- ✅ 加载状态显示

---

## 📈 技术栈

### 后端
- **Flask** - Web框架
- **Flask-Login** - 用户认证
- **PostgreSQL** - 数据库
- **SQLAlchemy** - ORM工具
- **Pandas** - 数据处理
- **XlsxWriter** - Excel导出

### 前端
- **Bootstrap 5** - 响应式UI
- **jQuery** - DOM操作
- **DataTables** - 数据表格
- **Chart.js** - 数据可视化
- **Font Awesome** - 图标库

---

## 🔄 部署选项

### 本地部署
```bash
# 开发环境
python app.py

# 生产环境
gunicorn app:app -b 0.0.0.0:5000
```

### 云端部署
- **Render** - 免费PostgreSQL + Web服务
- **Railway** - 一键部署，自动SSL
- **Fly.io** - 全球CDN，免费额度
- **Heroku** - 传统选择，简单易用

---

## 📋 数据库结构

### 用户表 (users)
- `id` - 主键
- `username` - 用户名（唯一）
- `email` - 邮箱（唯一）
- `password_hash` - 加密密码
- `role` - 角色（student/teacher/admin）
- `class_name` - 所属班级
- `created_at` - 创建时间

### 评分表 (scores)
- `id` - 主键
- `user_id` - 用户外键
- `evaluator_name` - 评分人姓名
- `evaluator_class` - 评分人班级
- `target_grade` - 被查年级
- `target_class` - 被查班级
- `score1, score2, score3` - 各项评分
- `total` - 总分（自动计算）
- `note` - 备注
- `created_at` - 评分时间

---

## 🔧 维护与扩展

### 日常维护
- 定期备份数据库
- 监控磁盘空间使用情况
- 更新用户信息和权限

### 功能扩展
- 添加评分标准配置
- 支持图片附件上传
- 集成学校SSO系统
- 添加通知推送功能

---

## 📞 技术支持

### 常见问题
1. **忘记密码** - 联系管理员重置
2. **无法登录** - 检查用户名和密码
3. **数据错误** - 联系管理员修正
4. **系统故障** - 检查日志文件

### 联系方式
- 技术支持：admin@school.com
- 系统维护：每周三下午
- 紧急联系：值班老师

---

**版本：v2.0 - 完备版**
**最后更新：2024年**